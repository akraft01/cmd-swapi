#!/usr/bin/env node
"use strict";const c=require("commander"),i=require("node-fetch"),p=require("https-proxy-agent"),h="https://swapi.dev/api/",s=process.env.HTTPS_PROXY||"http://localhost:3128",g=new p.HttpsProxyAgent(s);async function l(e,o){const r=`${h}${e}/${o}/`;console.log(`Fetching data from: ${r} via proxy: ${s}`);try{const t=await i(r,{agent:g});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const n=await t.json();console.log(JSON.stringify(n,null,2))}catch(t){console.error("Error fetching data:",t.message)}}const a=new c.Command;a.name("swapi-cli").description("CLI tool to fetch data from the Star Wars API").version("1.0.0").argument("<resource>","Resource type (e.g., people, planets, starships)").argument("<id>","ID of the resource to fetch").action((e,o)=>{l(e,o)});a.parse(process.argv);
